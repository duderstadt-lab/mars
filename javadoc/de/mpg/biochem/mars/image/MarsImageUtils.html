<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_202) on Tue Nov 24 15:09:28 CET 2020 -->
<title>MarsImageUtils</title>
<meta name="date" content="2020-11-24">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MarsImageUtils";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MarsImageUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../de/mpg/biochem/mars/image/DNASegment.html" title="class in de.mpg.biochem.mars.image"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtilsTest.html" title="class in de.mpg.biochem.mars.image"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?de/mpg/biochem/mars/image/MarsImageUtils.html" target="_top">Frames</a></li>
<li><a href="MarsImageUtils.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">de.mpg.biochem.mars.image</div>
<h2 title="Class MarsImageUtils" class="title">Class MarsImageUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>de.mpg.biochem.mars.image.MarsImageUtils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">MarsImageUtils</span>
extends java.lang.Object</pre>
<div class="block">Common utility functions for DoG filtering, peak finding, peak fitting and
 related operations.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Karl Duderstadt</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#MarsImageUtils--">MarsImageUtils</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;<br>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#calcR2-net.imglib2.RandomAccess-int-de.mpg.biochem.mars.util.Gaussian2D-">calcR2</a></span>(net.imglib2.RandomAccess&lt;T&gt;&nbsp;ra,
      int&nbsp;radius,
      <a href="../../../../../de/mpg/biochem/mars/util/Gaussian2D.html" title="class in de.mpg.biochem.mars.util">Gaussian2D</a>&nbsp;gauss)</code>
<div class="block">This method calculates the R-squared for the 2D gaussian provided within
 the radius specified for the image given as a RandomAccess.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt;&gt;<br>net.imglib2.RandomAccessibleInterval&lt;net.imglib2.type.numeric.real.FloatType&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#dogFilter-net.imglib2.RandomAccessibleInterval-double-net.imagej.ops.OpService-">dogFilter</a></span>(net.imglib2.RandomAccessibleInterval&lt;T&gt;&nbsp;img,
         double&nbsp;dogFilterRadius,
         net.imagej.ops.OpService&nbsp;opService)</code>
<div class="block">This method uses the OpService to apply a Difference of Gaussian (DoG)
 filter on a 2D image provided.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;<br>java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#findPeaks-net.imglib2.RandomAccessible-net.imglib2.Interval-int-double-int-boolean-">findPeaks</a></span>(net.imglib2.RandomAccessible&lt;T&gt;&nbsp;img,
         net.imglib2.Interval&nbsp;interval,
         int&nbsp;t,
         double&nbsp;threshold,
         int&nbsp;minimumDistance,
         boolean&nbsp;findNegativePeaks)</code>
<div class="block">This method returned a list of peaks in the 2D image within the interval
 specified that are above the pixel value threshold specified.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;<br>java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#fitPeaks-net.imglib2.RandomAccessible-net.imglib2.Interval-java.util.List-int-double-boolean-double-">fitPeaks</a></span>(net.imglib2.RandomAccessible&lt;T&gt;&nbsp;img,
        net.imglib2.Interval&nbsp;interval,
        java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;peaks,
        int&nbsp;radius,
        double&nbsp;initialSize,
        boolean&nbsp;findNegativePeaks,
        double&nbsp;RsquaredMin)</code>
<div class="block">Given a 2D image and a list of peak positions in pixels, this function
 performs subpixel 2D gaussian fitting and updates the peak positions
 accordingly.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static &lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;<br>java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#fitPeaks-net.imglib2.RandomAccessible-net.imglib2.Interval-java.util.List-int-double-double-boolean-">fitPeaks</a></span>(net.imglib2.RandomAccessible&lt;T&gt;&nbsp;img,
        net.imglib2.Interval&nbsp;interval,
        java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;peaks,
        int&nbsp;radius,
        double&nbsp;initialSize,
        double&nbsp;fitRegionThreshold,
        boolean&nbsp;findNegativePeaks)</code>
<div class="block">Given a 2D image and a list of peak positions in pixels, this function
 performs subpixel 2D gaussian fitting and updates the peak positions
 accordingly.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static &lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;<br>net.imglib2.RandomAccessibleInterval&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#get2DHyperSlice-net.imagej.ImgPlus-int-int-int-">get2DHyperSlice</a></span>(net.imagej.ImgPlus&lt;T&gt;&nbsp;img,
               int&nbsp;z,
               int&nbsp;c,
               int&nbsp;t)</code>
<div class="block">Convenience method to retrieve a 2D view from an ImgPlus for a given z, c,
 and t.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;int[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#innerOffets-int-">innerOffets</a></span>(int&nbsp;innerRadius)</code>
<div class="block">This method creates a list of integer x, y offsets from a central point
 based on the provided radius.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static &lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;<br>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#integratePeaks-net.imglib2.RandomAccessible-net.imglib2.Interval-java.util.List-int-int-">integratePeaks</a></span>(net.imglib2.RandomAccessible&lt;T&gt;&nbsp;img,
              net.imglib2.Interval&nbsp;interval,
              java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;peaks,
              int&nbsp;innerRadius,
              int&nbsp;outerRadius)</code>
<div class="block">This method integrates the intensity of peaks in the 2D image provided.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#intervalContains-net.imglib2.Interval-double...-">intervalContains</a></span>(net.imglib2.Interval&nbsp;interval,
                double...&nbsp;location)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static java.util.List&lt;int[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#outerOffets-int-int-">outerOffets</a></span>(int&nbsp;innerRadius,
           int&nbsp;outerRadius)</code>
<div class="block">This method creates a list of integer x, y offsets between the provided
 inner radius and outer radius.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtils.html#removeNearestNeighbors-java.util.List-int-">removeNearestNeighbors</a></span>(java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;peaks,
                      int&nbsp;minimumDistance)</code>
<div class="block">This method removes peaks from the provided list that are closer than the
 minimum distance given.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MarsImageUtils--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MarsImageUtils</h4>
<pre>public&nbsp;MarsImageUtils()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="innerOffets-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>innerOffets</h4>
<pre>public static&nbsp;java.util.List&lt;int[]&gt;&nbsp;innerOffets(int&nbsp;innerRadius)</pre>
<div class="block">This method creates a list of integer x, y offsets from a central point
 based on the provided radius. The offset list can be used to efficiently
 visit the neighborhood of x, y positions around a central integration
 position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>innerRadius</code> - Inner integration radius.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of x, y offsets for innerRadius.</dd>
</dl>
</li>
</ul>
<a name="outerOffets-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outerOffets</h4>
<pre>public static&nbsp;java.util.List&lt;int[]&gt;&nbsp;outerOffets(int&nbsp;innerRadius,
                                                int&nbsp;outerRadius)</pre>
<div class="block">This method creates a list of integer x, y offsets between the provided
 inner radius and outer radius. The offset list can be used to efficiently
 visit the background neighborhood of x, y positions forming an outside ring
 around a central integration position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>innerRadius</code> - Inner integration radius.</dd>
<dd><code>outerRadius</code> - Outer integration radius.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of x, y offsets for between innerRadius and outerRadius.</dd>
</dl>
</li>
</ul>
<a name="findPeaks-net.imglib2.RandomAccessible-net.imglib2.Interval-int-double-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findPeaks</h4>
<pre>public static&nbsp;&lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;&nbsp;java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;findPeaks(net.imglib2.RandomAccessible&lt;T&gt;&nbsp;img,
                                                                                                                               net.imglib2.Interval&nbsp;interval,
                                                                                                                               int&nbsp;t,
                                                                                                                               double&nbsp;threshold,
                                                                                                                               int&nbsp;minimumDistance,
                                                                                                                               boolean&nbsp;findNegativePeaks)</pre>
<div class="block">This method returned a list of peaks in the 2D image within the interval
 specified that are above the pixel value threshold specified. The local
 maximum within the minimum distance is always chosen. The point in time
 provided is set for all peaks returned. Negative peaks can be located if
 desired.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Image type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>img</code> - 2D image containing peaks.</dd>
<dd><code>interval</code> - The interval to search for peaks in the image.</dd>
<dd><code>t</code> - The T position being searched for peaks.</dd>
<dd><code>threshold</code> - The pixel value threshold for peak detection.</dd>
<dd><code>minimumDistance</code> - The minimum allowed distance between peaks.</dd>
<dd><code>findNegativePeaks</code> - Whether to search for negative peaks.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of peaks found.</dd>
</dl>
</li>
</ul>
<a name="dogFilter-net.imglib2.RandomAccessibleInterval-double-net.imagej.ops.OpService-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dogFilter</h4>
<pre>public static&nbsp;&lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt;&gt;&nbsp;net.imglib2.RandomAccessibleInterval&lt;net.imglib2.type.numeric.real.FloatType&gt;&nbsp;dogFilter(net.imglib2.RandomAccessibleInterval&lt;T&gt;&nbsp;img,
                                                                                                                                                       double&nbsp;dogFilterRadius,
                                                                                                                                                       net.imagej.ops.OpService&nbsp;opService)</pre>
<div class="block">This method uses the OpService to apply a Difference of Gaussian (DoG)
 filter on a 2D image provided. The dog filter op requires two sigmas that
 are used to generate two images and the difference of these images is
 returned. The relationship between dogFilterRadius and the two sigmas is
 the following: sigma1 = dogFilterRadius / sqrt(2) * 1.1 sigma2 =
 dogFilterRadius / sqrt(2) * 0.9</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Image type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>img</code> - 2D image that will be dog filtered.</dd>
<dd><code>dogFilterRadius</code> - Radius to use for dog filtering.</dd>
<dd><code>opService</code> - An instance of the opService to run the dog filter op.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The dog filtered image.</dd>
</dl>
</li>
</ul>
<a name="fitPeaks-net.imglib2.RandomAccessible-net.imglib2.Interval-java.util.List-int-double-boolean-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fitPeaks</h4>
<pre>public static&nbsp;&lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;&nbsp;java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;fitPeaks(net.imglib2.RandomAccessible&lt;T&gt;&nbsp;img,
                                                                                                                              net.imglib2.Interval&nbsp;interval,
                                                                                                                              java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;peaks,
                                                                                                                              int&nbsp;radius,
                                                                                                                              double&nbsp;initialSize,
                                                                                                                              boolean&nbsp;findNegativePeaks,
                                                                                                                              double&nbsp;RsquaredMin)</pre>
<div class="block">Given a 2D image and a list of peak positions in pixels, this function
 performs subpixel 2D gaussian fitting and updates the peak positions
 accordingly. If the R-squared from fitting is below the threshold provided,
 the whole pixel position is left unchanged. The image is mirrored for pixel
 values beyond the interval provided. The starting guess for sigma is half
 initialSize.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Image type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>img</code> - 2D image containing peaks.</dd>
<dd><code>interval</code> - The interval to use for peak fitting.</dd>
<dd><code>peaks</code> - The list of Peaks to fit with subpixel accuracy.</dd>
<dd><code>radius</code> - The radius of the square region of pixels to use for
          fitting.</dd>
<dd><code>initialSize</code> - A starting guess for the peak size.</dd>
<dd><code>findNegativePeaks</code> - Whether negative peaks are being fit.</dd>
<dd><code>RsquaredMin</code> - The mininmum allowed R-squared value below which fits
          are rejected.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of peaks after fitting with those having rejected fits removed.</dd>
</dl>
</li>
</ul>
<a name="fitPeaks-net.imglib2.RandomAccessible-net.imglib2.Interval-java.util.List-int-double-double-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fitPeaks</h4>
<pre>public static&nbsp;&lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;&nbsp;java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;fitPeaks(net.imglib2.RandomAccessible&lt;T&gt;&nbsp;img,
                                                                                                                              net.imglib2.Interval&nbsp;interval,
                                                                                                                              java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;peaks,
                                                                                                                              int&nbsp;radius,
                                                                                                                              double&nbsp;initialSize,
                                                                                                                              double&nbsp;fitRegionThreshold,
                                                                                                                              boolean&nbsp;findNegativePeaks)</pre>
<div class="block">Given a 2D image and a list of peak positions in pixels, this function
 performs subpixel 2D gaussian fitting and updates the peak positions
 accordingly. If the R-squared from fitting is below the threshold provided,
 the whole pixel position is left unchanged. The image is mirrored for pixel
 values beyond the interval provided. The starting guess for sigma is half
 initialSize.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Image type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>img</code> - 2D image containing peaks.</dd>
<dd><code>interval</code> - The interval to use for peak fitting.</dd>
<dd><code>peaks</code> - The list of Peaks to fit with subpixel accuracy.</dd>
<dd><code>radius</code> - The radius of the square region of pixels to use for
          fitting.</dd>
<dd><code>initialSize</code> - A starting guess for the peak size.</dd>
<dd><code>fitRegionThreshold</code> - The threshold pixel value for the region to fit.</dd>
<dd><code>findNegativePeaks</code> - Whether negative peaks are being fit.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of peaks after fitting with those having rejected fits removed.</dd>
</dl>
</li>
</ul>
<a name="calcR2-net.imglib2.RandomAccess-int-de.mpg.biochem.mars.util.Gaussian2D-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcR2</h4>
<pre>public static&nbsp;&lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;&nbsp;double&nbsp;calcR2(net.imglib2.RandomAccess&lt;T&gt;&nbsp;ra,
                                                                                                              int&nbsp;radius,
                                                                                                              <a href="../../../../../de/mpg/biochem/mars/util/Gaussian2D.html" title="class in de.mpg.biochem.mars.util">Gaussian2D</a>&nbsp;gauss)</pre>
<div class="block">This method calculates the R-squared for the 2D gaussian provided within
 the radius specified for the image given as a RandomAccess.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Image type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ra</code> - 2D image containing peak used for the R-squared calculation.</dd>
<dd><code>radius</code> - The radius of the square region used for the R-squared
          calculation.</dd>
<dd><code>gauss</code> - The 2D gaussian from fitting to use for the R-squared
          calculation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The R-squared value.</dd>
</dl>
</li>
</ul>
<a name="removeNearestNeighbors-java.util.List-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeNearestNeighbors</h4>
<pre>public static&nbsp;java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;removeNearestNeighbors(java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;peaks,
                                                          int&nbsp;minimumDistance)</pre>
<div class="block">This method removes peaks from the provided list that are closer than the
 minimum distance given. If two peaks are closer than the minimum distance,
 the peak with the lower R-squared value, indicating a poorer fit, will be
 removed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peaks</code> - The list of peaks that nearest neighbors should be removed
          from.</dd>
<dd><code>minimumDistance</code> - The smallest allowed distance between peaks in
          pixels.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new peak list with nearest neighbors removed.</dd>
</dl>
</li>
</ul>
<a name="integratePeaks-net.imglib2.RandomAccessible-net.imglib2.Interval-java.util.List-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>integratePeaks</h4>
<pre>public static&nbsp;&lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;&nbsp;void&nbsp;integratePeaks(net.imglib2.RandomAccessible&lt;T&gt;&nbsp;img,
                                                                                                                    net.imglib2.Interval&nbsp;interval,
                                                                                                                    java.util.List&lt;<a href="../../../../../de/mpg/biochem/mars/image/Peak.html" title="class in de.mpg.biochem.mars.image">Peak</a>&gt;&nbsp;peaks,
                                                                                                                    int&nbsp;innerRadius,
                                                                                                                    int&nbsp;outerRadius)</pre>
<div class="block">This method integrates the intensity of peaks in the 2D image provided. The
 interval given is mirrored at the edges for pixel values that lie outside
 the boundaries. The values of all pixels within the region defined by the
 innerRadius are summed. The median value of the pixels between innerRadius
 and outerRadius is subtracted from each pixel in the sum to yield the
 background corrected total intensity.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Image type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>img</code> - 2D image containing peaks.</dd>
<dd><code>interval</code> - The interval to mirror at the edges during integration.</dd>
<dd><code>peaks</code> - The Peaks to integrate.</dd>
<dd><code>innerRadius</code> - The region to integrate.</dd>
<dd><code>outerRadius</code> - The outer radius of the region used to calculate the
          background.</dd>
</dl>
</li>
</ul>
<a name="get2DHyperSlice-net.imagej.ImgPlus-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get2DHyperSlice</h4>
<pre>public static&nbsp;&lt;T extends net.imglib2.type.numeric.RealType&lt;T&gt; &amp; net.imglib2.type.NativeType&lt;T&gt;&gt;&nbsp;net.imglib2.RandomAccessibleInterval&lt;T&gt;&nbsp;get2DHyperSlice(net.imagej.ImgPlus&lt;T&gt;&nbsp;img,
                                                                                                                                                        int&nbsp;z,
                                                                                                                                                        int&nbsp;c,
                                                                                                                                                        int&nbsp;t)</pre>
<div class="block">Convenience method to retrieve a 2D view from an ImgPlus for a given z, c,
 and t. Axis positions are based on a zero index. This method reslices along
 c, t, and z. Therefore, for higher dimensional images, the output may be
 more than 2D.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Image type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>img</code> - ImgPlus provide a view from.</dd>
<dd><code>z</code> - The Z axis position.</dd>
<dd><code>c</code> - The C axis position.</dd>
<dd><code>t</code> - The T axis position.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The slice of the image specified.</dd>
</dl>
</li>
</ul>
<a name="intervalContains-net.imglib2.Interval-double...-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>intervalContains</h4>
<pre>public static&nbsp;boolean&nbsp;intervalContains(net.imglib2.Interval&nbsp;interval,
                                       double...&nbsp;location)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MarsImageUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../de/mpg/biochem/mars/image/DNASegment.html" title="class in de.mpg.biochem.mars.image"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../de/mpg/biochem/mars/image/MarsImageUtilsTest.html" title="class in de.mpg.biochem.mars.image"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?de/mpg/biochem/mars/image/MarsImageUtils.html" target="_top">Frames</a></li>
<li><a href="MarsImageUtils.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
